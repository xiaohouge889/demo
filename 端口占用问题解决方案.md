# 端口占用问题解决方案

## 问题现象

错误信息：
```
Error: listen EADDRINUSE: address already in use :::3000
code: 'EADDRINUSE'
```

## 问题原因

**端口 3000 已被占用**，通常是因为之前的服务器进程还在运行。

## 解决方案

### 快速解决方法（推荐）

从检测结果看，进程 ID **25036** 正在占用端口 3000。

**关闭该进程：**

在命令行执行：
```bash
taskkill /PID 25036 /F
```

然后重新启动服务器：
```bash
npm run dev
```

### 方法2：关闭所有 Node.js 进程（快速但可能影响其他程序）

如果确定所有 Node.js 进程都是您的项目，可以关闭所有 Node.js 进程：

```bash
taskkill /F /IM node.exe
```

然后重新启动：
```bash
npm run dev
```

### 方法3：使用任务管理器

1. 按 `Ctrl + Shift + Esc` 打开任务管理器
2. 点击"详细信息"标签
3. 找到进程 ID 为 **25036** 的进程（通常是 Node.js 进程）
4. 右键 → "结束任务"

### 方法4：修改端口（如果不想关闭进程）

如果不想关闭占用端口的进程，可以修改服务器端口：

1. 在 `backend` 目录下创建或编辑 `.env` 文件：
   ```env
   PORT=3001
   ```

2. 修改 `frontend/vite.config.js` 中的代理配置：
   ```javascript
   proxy: {
     '/api': {
       target: 'http://localhost:3001',  // 改为新端口
       changeOrigin: true
     }
   }
   ```

3. 重启服务器

## 验证端口是否释放

关闭进程后，可以检查端口：
```bash
netstat -ano | findstr :3000
```

如果没有输出，说明端口已释放。

## 常见问题

### Q: 为什么会出现端口占用？

A: 通常是因为：
- 之前启动的服务器没有正常关闭（按 Ctrl+C 没有成功）
- 命令行窗口被关闭但进程仍在运行
- 服务器异常退出

### Q: 如何避免端口占用？

A: 
1. 确保服务器正常关闭（使用 Ctrl+C 停止）
2. 不要在多个命令行窗口中同时启动服务器
3. 如果服务器异常退出，记得关闭进程

### Q: 可以同时运行多个服务器吗？

A: 不可以，同一个端口只能被一个进程占用。如果需要在不同端口运行多个服务器，需要修改端口配置。
